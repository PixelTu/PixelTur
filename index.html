<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>PixelTur</title>
<style>
  body { margin:0; background:#111; overflow:hidden; }
  canvas { background:#fff; display:block; touch-action:none; }
  #palette {
    position:fixed; bottom:0; left:0; right:0;
    background:#222; padding:8px;
    display:flex; gap:6px; overflow-x:auto; justify-content:center;
  }
  .color { width:24px; height:24px; border:2px solid #555; flex-shrink:0; }
  .selected { border:2px solid gold; }
  #cooldown {
    position:fixed; top:10px; right:10px;
    background:#222; padding:6px 10px; border-radius:6px;
    font-size:14px; font-weight:bold; color:lime;
  }
  #founder {
    position:fixed; top:10px; left:10px;
    background:#222; padding:6px 10px; border-radius:6px;
    font-size:14px; font-weight:bold; color:#FFD700;
  }
  #early {
    position:fixed;
    top:60px;   /* founder'ın altında */
    right:10px;
    background:#222;
    color:#FFD700;
    padding:8px 12px;
    border-radius:6px;
    font-weight:bold;
    z-index:900;
  }

  /* Chat kutusu */
  #chatBox {
    position:fixed;
    bottom:60px;
    right:10px;
    width:250px;
    max-height:300px;
    background:#222;
    border:2px solid #555;
    border-radius:8px;
    display:none;
    flex-direction:column;
    z-index:999;
  }
  #chatMessages {
    flex:1;
    overflow-y:auto;
    padding:6px;
    font-size:14px;
    color:#fff;
  }
  #chatInput {
    border:none;
    padding:6px;
    width:calc(100% - 12px);
    margin:6px;
    border-radius:4px;
  }
  #chatToggle {
    position:fixed;
    bottom:370px;
    right:10px;
    background:#FFD700;
    color:#000;
    padding:6px 10px;
    border-radius:6px;
    font-weight:bold;
    cursor:pointer;
    z-index:1000;
  }

  /* Kurallar modal */
  #rulesModal {
    display:none;
    position:fixed;
    top:0; left:0; right:0; bottom:0;
    background:#000a;
    color:#fff;
    padding:20px;
    z-index:2000;
  }
  #rulesModal h2 { margin-top:0; }
  #rulesModal ul { margin:10px 0; }
</style>
</head>
<body>

<canvas id="board"></canvas>
<div id="cooldown">Hazır!</div>
<div id="founder">Founder: Beyaz234 & TFSOO & Babapiro</div>
<div id="palette"></div>
<div id="early">Erken Erişim</div>

<!-- Chat sistemi -->
<div id="chatBox">
  <div id="chatMessages"></div>
  <input id="chatInput" placeholder="Mesaj yaz..." />
</div>
<div id="chatToggle">Chat Aç/Kapat</div>

<!-- Kurallar Modal -->
<div id="rulesModal">
  <h2>Chat Kuralları</h2>
  <ul>
    <li>Küfür ve hakaret yasaktır.</li>
    <li>Spam ve flood yapmayın.</li>
    <li>Oyun dışı konuşmalardan oyun sorumlu değildir.</li>
  </ul>
  <label><input type="checkbox" id="acceptRules"> Kuralları okudum ve kabul ediyorum</label><br><br>
  <button onclick="acceptRules()">Onayla ve Chat’e Gir</button>
</div>

<script>
/* --- Canvas, palet, cooldown, zoom/pan kodları aynen korunuyor --- */

/* Chat sistemi */
let acceptedRules=false;
function acceptRules(){
  if(document.getElementById("acceptRules").checked){
    acceptedRules=true;
    document.getElementById("rulesModal").style.display="none";
  } else {
    alert("Kuralları kabul etmeden chat kullanamazsınız!");
  }
}

document.getElementById("chatToggle").onclick=()=>{
  const chatBox=document.getElementById("chatBox");
  if(chatBox.style.display==="none"||chatBox.style.display===""){
    chatBox.style.display="flex";
    if(!acceptedRules){
      document.getElementById("rulesModal").style.display="block";
    }
  } else {
    chatBox.style.display="none";
  }
};

document.getElementById("chatInput").addEventListener("keydown",e=>{
  if(e.key==="Enter"){
    if(!acceptedRules){
      alert("